{"version":3,"sources":["components/ThemeProvider/bg@2x.png","components/ThemeProvider/global-styles.js","components/ThemeProvider/theme.js","components/ThemeProvider/index.js","contexts/mediaQuery/mediaContext.js","contexts/mediaQuery/mqHook.js","contexts/mediaQuery/MediaProvider.js","api/labelContext.js","api/labelProvider.js","api/provider.js","components/Box.js","components/Container.js","api/useLabel.js","containers/UpdatedAt.js","containers/TypeToggler.js","containers/YearSelector.js","containers/Header.js","components/Text.js","components/Flex.js","components/utils/useWebpImage.js","components/BackgroundImage.js","components/arrow.svg","components/Card.js","containers/BudgetBar.js","containers/Charts/TreeMap.js","containers/RevenueTree.js","containers/SpendingTree.js","containers/HomePage.js","App.js","index.js"],"names":["css","bg","chakraBp","createBreakpoints","sm","md","lg","xl","breakpoints","Object","values","slice","responsiveIndex","responsiveMap","map","_","i","id","findIndex","length","responsive","memoizeOne","args","argsLen","get","containerWidth","containerPadding","font","overrides","fonts","heading","body","mono","colors","theme","primary","secondary","danger","text","custom","gray","darkBlue","textOrange","textBlue","orange","yellow","orangeAlpha","yellowAlpha","lightCyan","cyan","lightBlue","labelBlue","blue","darkGreen","treeMapGreen","100","200","300","400","500","600","700","800","900","1000","treeMapBlue","headerHeight","customTheme","extendTheme","ReThemeProvider","children","resetCSS","styles","globalStyles","createContext","useMq","bp","useMediaQuery","query","MediaQuery","q","mqHook","Provider","value","defaultLabels","headTitle","updatedAt","budgetTitle","revenueTitle","spendingTitle","labelContext","LabelProvider","useSWR","data","options","fetcher","resource","init","fetch","then","res","json","ReBox","styled","Box","Inline","forwardRef","props","ref","as","display","verticalAlign","Absolute","position","AbsCenter","top","left","transform","FullAbs","right","bottom","Relative","Fixed","Invisible","width","height","overflow","opacity","Container","defaultProps","mx","px","maxWidth","displayName","useLabel","key","labels","useContext","UpdatedAt","label","color","fontSize","fontWeight","date","TypeToggler","onChange","rounded","boxShadow","transition","bgGradient","py","letterSpacing","textAlign","onClick","cursor","ChevButton","variant","bgColor","minW","_disabled","_hover","YearSelector","handleChange","useCallback","v","useNumberInput","step","defaultValue","min","max","Math","getInputProps","getIncrementButtonProps","getDecrementButtonProps","inc","dec","input","isReadOnly","border","icon","Header","type","typeLabel","onTypeChange","typeOptions","year","onYearChange","alignItems","borderBottom","pb","flex","ReText","Text","Bold","Thin","range","forEach","ReFlex","Flex","Vertical","direction","useWebpImage","src","canUseWebp","window","useMemo","isArray","BGImage","pic","backgroundImage","backgroundSize","backgroundPosition","backgroundRepet","BackgroundImage","Card","title","hightlight","titleRight","p","mb","spacing","_before","content","bgImage","ratio","arrow","mr","legend","f","format","RenderCustomAxisTick","x","y","payload","index","city","h","active","style","Rectangle","radius","fill","stroke","w","textAnchor","BudgetBar","onSetCity","chartData","name","revenue","歲出","spending","歲入","handleLabelClick","clicked","ml","BarChart","layout","barGap","margin","x1","x2","y1","y2","offset","stopColor","XAxis","tick","tickLine","axisLine","strokeWidth","padding","YAxis","dataKey","Bar","barSize","LabelList","formatter","colorScheme","CustomTooltip","valueColor","borderRadius","CustomizedContent","depth","colorScale","green","TreeMap","treeData","sortBy","reverse","extent","minBy","maxBy","scaleLinear","domain","Treemap","animationDuration","Tooltip","RevenueTree","SpendingTree","types","HomePage","useState","isSub","setIsSub","Date","getFullYear","setYear","setCity","useEffect","my","pr","pl","App","ReactDOM","render","ThemeProvider","MediaProvider","document","getElementById"],"mappings":"wMAAe,MAA0B,kCCI1BA,cAAf,mYAa4BC,G,oECZtBC,EAAWC,YAAkB,CACjCC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJ,MAAO,SAGIC,EAAcC,OAAOC,OAAOR,GAAUS,MAAM,GAE5CC,EAAkB,CAC7B,CAAC,EAAG,UACJ,CAAC,EAAG,UACJ,CAAC,EAAG,UACJ,CAAC,EAAG,YAGAC,EAAgBL,EAAYM,KAAI,SAACC,EAAGC,GACxC,IAAMC,EAAKL,EAAgBM,WAAU,uCAAeF,KACpD,OAAOC,GAAM,EAAIA,EAAKL,EAAgBO,UAG3BC,EAAaC,aAAW,WAAc,IAAD,uBAATC,EAAS,yBAATA,EAAS,gBAChD,IAAMC,EAAUD,EAAKH,OACrB,OAAII,GAAW,EAAUD,EAAK,GACvBd,EAAYM,KAAI,SAACC,EAAGC,GAAJ,OAAUQ,IAAIF,EAAM,CAACT,EAAcG,IAAK,YAKpDS,EAAiB,CAAC,KAAM,OAAQ,OAAQ,QACxCC,EAAmBN,EAAW,MAAO,OAE5CO,EAAO,sFAmCPC,EAAY,CAChBC,MAnCY,CACZC,QAASH,EACTI,KAAMJ,EACNK,KAAM,oBAiCNC,OAAO,2BACFC,QAAMD,QADL,IAEJE,QAASX,IAAIU,QAAMD,OAAP,UARA,OAQA,SACZG,UAAWZ,IAAIU,QAAMD,OAAP,UARA,QAQA,SACdI,OAAQb,IAAIU,QAAMD,OAAP,UARA,MAQA,SACXK,KAAMd,IAAIU,QAAMD,OAAQ,SACxBM,OAAQ,CACNC,KAAM,UACNC,SAAU,UACVC,WAAY,UACZC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,YAAa,0BACbC,YAAa,0BACbC,UAAW,UACXC,KAAM,UACNC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,UAAW,UACXC,aAnDe,CACnBC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAM,WA0CFC,YAvCc,CAClBV,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,cAkCLtD,cACAiB,iBACAyC,aAAc,OAKDC,EAFKC,YAAYxC,G,OCxFjByC,EATS,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACtB,cAAC,IAAD,CAAgBpC,MAAOA,EAAOqC,UAAQ,EAAtC,SACE,qCACE,cAAC,IAAD,CAAQC,OAAQC,IACfH,QCVQI,0BAAc,I,SCEdC,EAFD,SAAAC,GAAE,OAAIC,wBAAc,CAAEC,MAAM,eAAD,OAAiBF,EAAjB,QCa1BG,EATI,SAAC,GAAkB,IAAhBT,EAAe,EAAfA,SACdU,EAAIxE,EAAYM,IAAImE,GAC1B,OACE,cAAC,EAAaC,SAAd,CAAuBC,MAAOH,EAA9B,SACGV,K,QCRMc,EAAgB,CAC3BC,UAAW,uCACXC,UAAW,uCACXC,YAAa,qBACbC,aAAc,yDACdC,cAAe,gEAKFC,EAFMhB,wBAAcU,GCApBO,EALO,SAAC,GAAkB,IAAhBrB,EAAe,EAAfA,SAAe,EACLsB,YAAO,WAAhCC,YAD8B,MACvBT,EADuB,EAEtC,OAAO,cAAC,EAAaF,SAAd,CAAuBC,MAAOU,EAA9B,SAAqCvB,KCa/BY,EAbE,SAAC,GAAD,IAAGZ,EAAH,EAAGA,SAAUwB,EAAb,EAAaA,QAAb,OACf,cAAC,IAAD,CACEX,MAAK,aACHY,QAAS,SAACC,EAAUC,GAAX,OAAoBC,MANd,yCAM+BF,EAAUC,GAAME,MAAK,SAAAC,GAAG,OAAIA,EAAIC,YAC3EP,GAHP,SAME,cAAC,EAAD,UACGxB,O,mCCXDgC,EAAQC,YAAOC,IAAPD,CAAH,0BAEID,IAEfA,EAAMG,OAASC,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACN,EAAD,yBAAOO,GAAG,OAAOC,QAAQ,eAAeC,cAAc,UAAaJ,GAAnE,IAA0EC,IAAKA,QACzHN,EAAMU,SAAWN,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACN,EAAD,yBAAOW,SAAS,YAAeN,GAA/B,IAAsCC,IAAKA,QACvFN,EAAMY,UAAYR,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACN,EAAD,yBAAOW,SAAS,WAAWE,IAAI,MAAMC,KAAK,MAAMC,UAAU,yBAA4BV,GAAtF,IAA6FC,IAAKA,QAC/IN,EAAMgB,QAAUZ,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACN,EAAMU,SAAP,yBAAgBG,IAAI,IAAIC,KAAK,IAAIG,MAAM,IAAIC,OAAO,KAAQb,GAA1D,IAAiEC,IAAKA,QACjHN,EAAMmB,SAAWf,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACN,EAAD,yBAAOW,SAAS,YAAeN,GAA/B,IAAsCC,IAAKA,QACvFN,EAAMoB,MAAQhB,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACN,EAAD,yBAAOW,SAAS,SAAYN,GAA5B,IAAmCC,IAAKA,QACjFN,EAAMqB,UAAYjB,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACN,EAAMU,SAAP,yBAAgBY,MAAM,IAAIC,OAAO,IAAIC,SAAS,SAASC,QAAQ,KAAQpB,GAAvE,IAA8EC,IAAKA,QCThI,IAAMoB,EAAYzB,YAAOC,EAAPD,CAAH,0BAEfyB,EAAUC,aAAe,CACvBC,GAAI,OACJC,GAAIzG,EACJ0G,SAAU3G,GAGZuG,EAAUK,YAAc,YAETL,I,EAAAA,I,4BCNAM,GALE,SAACC,GAChB,IAAMC,EAASC,qBAAW/C,GAC1B,OAAO6C,EAAMC,EAAOD,GAAOC,GCUdE,GAXG,WAAO,IACf7C,EAASD,YAAO,gBAAhBC,KACF8C,EAAQL,GAAS,aACvB,OACE,eAAC,IAAD,CAAQM,MAAM,kBAAkBC,SAAS,UAAzC,UACE,eAAC,KAAD,CAAMC,WAAW,MAAjB,UAAwBH,EAAxB,OACA,cAAC,KAAD,CAAMG,WAAW,MAAjB,UAA4B,OAAJjD,QAAI,IAAJA,OAAA,EAAAA,EAAMkD,OAAQ,SC6B7BC,GArCK,SAAC,GAAkC,IAAhC7D,EAA+B,EAA/BA,MAAO8D,EAAwB,EAAxBA,SAAUnD,EAAc,EAAdA,QACtC,OACE,eAAC,IAAD,CAAMmB,SAAS,WAAWiC,QAAQ,OAAOjJ,GAAG,QAAQkJ,UAAU,QAAQvB,MAAM,OAAOiB,SAAS,UAA5F,UACE,cAAC,IAAD,CACE5B,SAAS,WACTmC,WAAW,YACXC,WAAW,6CACXzB,MAAM,QACNC,OAAO,OACPT,KAAK,IACLD,IAAI,IACJE,UAAS,oBAAelC,EAAQ,IAAM,IAA7B,YACT+D,QAAQ,OACRC,UAAU,OAEXrD,EAAQhF,KAAI,SAAC6H,EAAO3H,GAAR,OACX,cAAC,IAAD,CACE4G,MAAM,OAENO,GAAG,QACHmB,GAAG,SACHV,MAAOzD,IAAUnE,EAAI,QAAU,cAC/B8H,WAAY3D,IAAUnE,EAAI,IAAM,IAChCiG,SAAS,WACTmC,WAAW,YACXG,cAAc,SACdC,UAAU,SACVC,QAAS,kBAAMR,EAASjI,IACxB0I,OAAO,UAZT,SAcGf,GAZI3H,U,wCCbT2I,GAAa,SAAAhD,GAAK,OACtB,cAAC,KAAD,aACEiD,QAAQ,WACRV,QAAQ,OACRG,WAAW,6CACXQ,QAAQ,QACRjB,MAAM,QACNO,UAAU,KACVN,SAAS,SACTjB,MAAM,UACNkC,KAAK,UACLjC,OAAO,UACPf,QAAQ,OACRqB,GAAG,SACHmB,GAAG,SACHS,UAAW,CACTV,WAAY,uDACZtB,QAAS,EACT2B,OAAQ,eAEVM,OAAQ,CACNjC,QAAS,IAEPpB,KA+COsD,GA3CM,SAAC,GAAkB,IAAhBhB,EAAe,EAAfA,SAAe,EACfrD,YAAO,cAArBC,YAD6B,MACtB,GADsB,EAE/BqE,EAAeC,uBAAY,SAAAC,GAC/BnB,EAASpD,EAAKA,EAAK1E,OAAS,EAAIiJ,MAC/B,CAACvE,EAAMoD,IAJ2B,EASjCoB,aAAe,CACjBC,KAAM,EACNC,aAAc,EACdC,IAAK,EACLC,IAAKC,KAAKD,IAAI,EAAG5E,EAAK1E,OAAS,GAC/B8H,SAAUiB,IARVS,EANmC,EAMnCA,cACAC,EAPmC,EAOnCA,wBACAC,EARmC,EAQnCA,wBASIC,EAAMF,IACNG,EAAMF,IACNG,EAAQL,EAAc,CAAEM,YAAY,IAC1C,OACE,eAAC,IAAD,CAAKhE,SAAS,WAAWW,MAAM,MAAM3H,GAAG,QAAQiJ,QAAQ,OAAOgC,OAAO,kBAAkB/B,UAAU,QAAlG,UACE,cAAC,KAAD,CACEvB,MAAM,OACN4B,UAAU,SACVI,QAAQ,WACRN,GAAG,UACHT,SAAS,SACTU,cAAc,QACdpE,MAAOU,EAAKA,EAAK1E,OAAS,EAAI6J,EAAM7F,OACpC8F,YAAU,IAGZ,cAAC,IAAD,CAAKhE,SAAS,WAAWG,KAAK,UAAUD,IAAI,MAAME,UAAU,qBAA5D,SACE,cAAC,GAAD,aAAY8D,KAAM,cAAC,KAAD,KAAuBL,MAE3C,cAAC,IAAD,CAAK7D,SAAS,WAAWM,MAAM,UAAUJ,IAAI,MAAME,UAAU,qBAA7D,SACE,cAAC,GAAD,aAAY8D,KAAM,cAAC,KAAD,KAAwBJ,UCnCnCK,GA7BA,SAAC,GAQT,IAPLC,EAOI,EAPJA,KACAC,EAMI,EANJA,UACAC,EAKI,EALJA,aACAC,EAII,EAJJA,YACAC,EAGI,EAHJA,KACAC,EAEI,EAFJA,aACG/E,EACC,uFACEgC,EAAQL,GAAS,aACvB,OACE,eAAC,IAAD,yBACEqD,WAAW,WACXC,aAAa,kBACbC,GAAG,SACClF,GAJN,cAME,eAAC,IAAD,CAAMmF,KAAM,EAAGH,WAAW,SAA1B,UACE,eAAC,IAAD,CAAS9E,GAAG,KAAK+B,MAAM,QAAQW,cAAc,SAASV,SAAS,SAASiB,KAAI,UAAKnB,EAAMxH,OAAS,EAApB,MAA5E,mBACImK,EAAW3C,KAEf,cAAC,IAAD,CAAKT,GAAG,QAAR,SAAgB,cAAC,GAAD,CAAc/C,MAAOsG,EAAMxC,SAAUyC,MACrD,cAAC,GAAD,CAAavG,MAAOkG,EAAMvF,QAAS0F,EAAavC,SAAUsC,OAE5D,cAAC,GAAD,S,0FC3BAQ,GAASxF,YAAOyF,KAAPzF,CAAH,0BAEZwF,GAAOtF,OAASC,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACmF,GAAD,yBAAQlF,GAAG,QAAWF,GAAtB,IAA6BC,IAAKA,QAC7EmF,GAAOE,KAAOvF,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACmF,GAAD,yBAAQjD,WAAW,OAAUnC,GAA7B,IAAoCC,IAAKA,QAClFmF,GAAOG,KAAOxF,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAACmF,GAAD,yBAAQjD,WAAW,OAAUnC,GAA7B,IAAoCC,IAAKA,QAElFuF,KAAM,EAAG,GAAGC,SAAQ,SAAC7D,GACnBwD,GAAO,IAAD,OAAKxD,IAAS7B,sBAAW,SAACC,EAAOC,GAAR,OAC7B,cAACmF,GAAD,yBACElF,GAAE,WAAM0B,GACRM,SAAQ,UAAK,EAAIN,EAAT,OACJ5B,GAHN,IAIEC,IAAKA,WAKImF,I,GAAAA,MClBTM,GAAS9F,YAAO+F,IAAP/F,CAAH,4BAEZ8F,GAAOE,SAAW7F,sBAAW,SAACC,EAAOC,GAAR,OAAgB,cAAC,IAAD,yBAAM4F,UAAU,UAAa7F,GAA7B,IAAoCC,IAAKA,QAEvEyF,U,mBCMAI,GAXM,SAACC,GACpB,IAAMC,EAAanL,eAAIoL,OAAQ,kBAO/B,OALYC,mBAAQ,WAClB,OAAKC,mBAAQJ,GACNC,EAAaD,EAAI,GAAKA,EAAI,GADP,OAEzB,CAACC,EAAYD,KCFZK,GAAU,SAAC,GAAiC,IAA/BL,EAA8B,EAA9BA,IAAKpI,EAAyB,EAAzBA,SAAaqC,EAAY,kCACzCqG,EAAMP,GAAaC,GAEzB,OACE,cAAClG,EAAD,yBACEyG,gBAAe,cAASH,mBAAQJ,GAAOM,EAAMN,EAA9B,MACX/F,GAFN,aAIGrC,GACC,cAACkC,EAAIc,QAAL,UAAchD,QAMtByI,GAAQ9E,aAAe,CACrBiF,eAAgB,QAChBC,mBAAoB,UACpBC,gBAAiB,aAGnB,IAAMC,GAAkB3G,sBAAW,WAMhCE,GANgC,IACjC8F,EADiC,EACjCA,IACApI,EAFiC,EAEjCA,SACA4I,EAHiC,EAGjCA,eACAC,EAJiC,EAIjCA,mBACGxG,EAL8B,+EAOjC,cAAC,KAAD,2BAAiBA,GAAjB,IAAwBC,IAAKA,EAA7B,SACE,cAAC,GAAD,CACE8F,IAAKA,EACLQ,eAAgBA,EAChBC,mBAAoBA,EAHtB,SAIE7I,UAIN+I,GAAgBhF,YAAc,kBAEfgF,UC9CA,OAA0B,kCCgD1BC,GA1CF,SAAC,GAAD,IACXC,EADW,EACXA,MACAC,EAFW,EAEXA,WACAC,EAHW,EAGXA,WACAnJ,EAJW,EAIXA,SACGqC,EALQ,qEAOX,eAAC,IAAD,yBACEuC,QAAQ,MACRwE,EAAE,MACFvE,UAAU,KACVlJ,GAAG,SACC0G,GALN,cAOE,eAAC,IAAD,CACEkF,GAAG,MACH8B,GAAG,QACH1G,SAAS,WACT2G,QAAQ,UACRC,QAAS,CACPC,QAAS,KACThH,QAAS,QACTG,SAAU,WACVG,KAAM,EACNG,MAAO,EACPC,OAAQ,EACRK,OAAQ,MACRkG,QAAS,+CAbb,UAgBE,cAAC,GAAD,CAAiBnG,MAAM,UAAUoG,MAAO,EAAGtB,IAAKuB,KAChD,eAAC,IAAD,CAASrF,MAAM,kBAAkBC,SAAS,QAAQU,cAAc,SAAhE,UACGiE,GAAc,cAAC,KAAD,CAAMU,GAAG,SAASrH,GAAG,OAAO+B,MAAM,oBAAlC,SAAuD4E,IACrED,KAEH,cAAC,IAAD,CAAKzB,KAAK,MACT2B,KAEFnJ,O,UCxBC6J,GAAS,CACb,CACExF,MAAO,eACP1I,GAAI,oBAEN,CACE0I,MAAO,eACP1I,GAAI,qBAIF4I,GAAW,GACXuF,GAAIC,aAAO,MAEXC,GAAuB,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,EAAGC,EAA8C,EAA9CA,EAAGC,EAA2C,EAA3CA,QAAS7G,EAAkC,EAAlCA,MAAO6B,EAA2B,EAA3BA,QAASiF,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KAE9DC,EAAI/F,MACJgG,GAAUF,GAAQA,EAAK,KAAOD,EACpC,OACE,oBACErH,UAAS,oBAAekH,EAAI3G,EAAQiB,MAA3B,aAAgD2F,EAAI3F,MAApD,KACTY,QAAS,kBAAMA,EAAQiF,IACvBI,MAAO,CAAEpF,OAAQ,UAAW3B,QAAS8G,EAAS,EAAI,KAHpD,UAKE,cAACE,GAAA,EAAD,CACEC,OAAQ,EACRpH,MAXIiB,GAYJhB,OAAQ+G,EACRK,KAAK,kBACLlH,QAAQ,UAEV,cAACgH,GAAA,EAAD,CACEC,OAAQ,EACRpH,MAlBIiB,GAmBJhB,OAAQ+G,EACRK,KAAK,OACLC,OAAQhN,EAAMD,OAAOM,OAAOI,WAE9B,sBACE4L,EAAGY,KACHX,EAAGI,OACH/F,SAAUA,GACVoG,KAAM/M,EAAMD,OAAOM,OAAOI,SAC1ByM,WAAW,SALb,SAOGX,EAAQtJ,YA2FFkK,GArFG,SAAC,GAAgD,IAA9ChE,EAA6C,EAA7CA,KAAMI,EAAuC,EAAvCA,KAAMH,EAAiC,EAAjCA,UAAWqD,EAAsB,EAAtBA,KAAMW,EAAgB,EAAhBA,UAC1C3G,EAAQL,GAAS,eACfzC,EAASD,YAAO,qBAAD,OAAsB6F,EAAtB,iBAAmCJ,IAAlDxF,KACF0J,EAAY1C,mBAAQ,kBAAMhH,EAAOA,EAAK/E,KAAI,gBAAG0O,EAAH,EAAGA,KAAMC,EAAT,EAASA,QAAT,MAAkC,CAChFD,OACAE,eAF8C,EAAkBC,SAGhEC,eAAIH,MACA,KAAI,CAAC5J,IACLgK,EAAmB1F,uBAAY,SAACuE,GACpC,IAAMoB,EAAUjK,EAAK6I,GAAOzN,GAC5BqO,GAAc,OAAJX,QAAI,IAAJA,OAAA,EAAAA,EAAO,MAAOmB,EAAU,KAAO,CAACA,EAASjK,EAAK6I,GAAOc,KAAMd,MACpE,CAAC7I,EAAMyJ,EAAWX,IACrB,OACE,cAAC,GAAD,CACEpB,MAAK,gBAAMjC,GAAN,OAAkB3C,GACvBf,MAAM,OACN6F,WACE,cAACnB,GAAD,UACG6B,GAAOrN,KAAI,WAAgBE,GAAhB,IAAG2H,EAAH,EAAGA,MAAO1I,EAAV,EAAUA,GAAV,OACV,eAACqM,GAAD,CAAMX,WAAW,SAASoE,GAAI/O,GAAK,QAAnC,UACE,cAACwF,EAAD,CAAK0H,GAAG,UAAUtG,MAAM,QAAQ0B,GAAG,QAAQrJ,GAAIA,IAC/C,cAAC+L,GAAD,CAAMpD,MAAM,mBAAZ,SAAgCD,MAFe3H,QANzD,SAcG6E,EACC,eAACmK,GAAA,EAAD,CACEC,OAAO,WACPrI,MAAO,IACPC,OAAQ,KACR2C,IAAK,EACL0F,OAAQ,EACRrK,KAAM0J,EACNY,OAAQ,CACNhJ,IAAK,EACLI,MAAO,GACPH,KAAM,GACNI,OAAQ,GAXZ,UAcE,+BACE,iCAAgBvG,GAAG,YAAYmP,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAvD,UACE,sBAAMC,OAAO,KAAKC,UAAU,sBAC5B,sBAAMD,OAAO,OAAOC,UAAU,2BAGlC,cAACC,GAAA,EAAD,CACErF,KAAK,SACLsF,MAAM,EACNC,UAAU,EACVC,UAAU,EACVC,YAAa,EACbC,QAAS,CAAExJ,MAAO,OAEpB,cAACyJ,GAAA,EAAD,CACEJ,UAAU,EACVC,UAAU,EACVI,QAAQ,OACR5F,KAAK,WACLsF,KAAM,cAAC,GAAD,CAAsBlH,QAASoG,EAAkBlB,KAAMA,MAE/D,cAACuC,GAAA,EAAD,CAAKD,QAAQ,eAAKE,QAAS,GAAIlC,KAAM/M,EAAMD,OAAOM,OAAOS,UAAzD,SACE,cAACoO,GAAA,EAAD,CACEH,QAAQ,eACRhK,SAAS,QACTgI,KAAM/M,EAAMD,OAAOM,OAAOU,KAC1BoO,UAAWjD,OAGf,cAAC8C,GAAA,EAAD,CAAKD,QAAQ,eAAKE,QAAS,GAAIlC,KAAM/M,EAAMD,OAAOM,OAAOW,UAAzD,SACE,cAACkO,GAAA,EAAD,CACEH,QAAQ,eACRhK,SAAS,QACTgI,KAAM/M,EAAMD,OAAOM,OAAOa,KAC1BiO,UAAWjD,UAIf,cAAC,KAAD,CAASkD,YAAY,a,6BC9IzBlD,GAAIC,aAAO,MAEXkD,GAAgB,SAAC,GAAqC,IAAnC1C,EAAkC,EAAlCA,OAAQJ,EAA0B,EAA1BA,QAAS+C,EAAiB,EAAjBA,WACxC,OAAI3C,GAAUJ,GAAWA,EAAQtN,OAE7B,eAACqF,EAAD,CAAKvG,GAAG,2BAA2BwR,aAAa,QAAQ/D,EAAE,eAA1D,UACE,cAAC1B,GAAD,CAAMnD,SAAS,UAAf,SAA0B4F,EAAQ,GAAGA,QAAQe,OAC7C,cAACxD,GAAD,CAAMnD,SAAS,UAAUD,MAAK,iBAAY4I,GAA1C,mBAA4DpD,GAAEK,EAAQ,GAAGtJ,aAIxE,MAGHuM,GAAoB,SAAC,GASpB,IARLC,EAQI,EARJA,MACApD,EAOI,EAPJA,EACAC,EAMI,EANJA,EACA5G,EAKI,EALJA,MACAC,EAII,EAJJA,OACA2H,EAGI,EAHJA,KACAoC,EAEI,EAFJA,WACAzM,EACI,EADJA,MAEA,OACE,8BACE,sBACEoJ,EAAGA,EACHC,EAAGA,EACH5G,MAAOA,EACPC,OAAQA,EACRiH,MAAO,CACLG,KAAM2C,EAAWzM,GAAS,GAC1B+J,OAAQ,OACR4B,YAAa,KAGN,IAAVa,EACC,sBAAMpD,EAAGA,EAAI3G,EAAQ,EAAG4G,EAAGA,EAAI3G,EAAS,EAAI,EAAGuH,WAAW,SAASH,KAAK,OAAOpG,SAAU,GAAzF,SACGjB,EAAsB,GAAd4H,EAAKrO,OAAc,MAAQqO,IAEpC,SAMJvN,GAAS,CACb4P,MAAO,CAAC,UAAW,WACnBzO,KAAM,CAAC,UAAW,YAmCL0O,GAhCC,SAAC,GAAuC,IAArCjM,EAAoC,EAApCA,KAAMyL,EAA8B,EAA9BA,YAAaE,EAAiB,EAAjBA,WAC9BO,EAAWlF,mBAAQ,kBAAMhH,EAAOmM,kBAAOlR,eAAI+E,GAAM,kBACrD,CACE2J,KAFmD,EAAGA,KAGtDrK,OAHmD,EAASA,UAK5D,CAAC,UAAU8M,UAAY,KAAI,CAACpM,IAC1BqM,EAASrF,mBAAQ,WACrB,IAAMrC,EAAM2H,iBAAMJ,EAAU,SACtBtH,EAAM2H,iBAAML,EAAU,SAC5B,MAAO,EAAI,OAAHvH,QAAG,IAAHA,OAAA,EAAAA,EAAKrF,QAAS,GAAM,OAAHsF,QAAG,IAAHA,OAAA,EAAAA,EAAKtF,QAAS,KACtC,CAAC4M,IACEH,EAAa/E,mBAAQ,kBACzBwF,eACGC,OAAOJ,GACP/F,MAAMlK,GAAOqP,MACd,CAACY,EAAQZ,IACb,OACE,cAACiB,GAAA,EAAD,CACE3K,MAAO,IACPC,OAAQ,IACRhC,KAAMkM,EACN/D,MAAO,EAAI,EACXiD,QAAQ,QACRuB,kBAAmB,IACnB1E,QAAS,cAAC,GAAD,CAAmB8D,WAAYA,IAP1C,SASE,cAACa,GAAA,EAAD,CAASjB,WAAYA,EAAY1D,QAAS,cAAC,GAAD,SCrEjC4E,GAXK,SAAC,GAAqC,IAAnCrH,EAAkC,EAAlCA,KAAMI,EAA4B,EAA5BA,KAAMH,EAAsB,EAAtBA,UAAWqD,EAAW,EAAXA,KACtChG,EAAQL,GAAS,gBACfzC,EAASD,YAAO,sBAAD,OAAuB6F,EAAvB,iBAAoCJ,GAApC,OAA2CsD,EAAI,gBAAYA,EAAK,IAAO,KAAtF9I,KAER,OACE,cAAC,GAAD,CAAM0H,MAAO5E,EAAO6E,WAAYmB,EAAOA,EAAK,GAAR,gBAAiBrD,GAArD,SACGzF,EAAO,cAAC,GAAD,CAASA,KAAMA,EAAMyL,YAAY,QAAQE,WAAW,cAAiB,cAAC,KAAD,CAASF,YAAY,aCIzFqB,GAXM,SAAC,GAAqC,IAAnCtH,EAAkC,EAAlCA,KAAMI,EAA4B,EAA5BA,KAAMH,EAAsB,EAAtBA,UAAWqD,EAAW,EAAXA,KACvChG,EAAQL,GAAS,iBACfzC,EAASD,YAAO,uBAAD,OAAwB6F,EAAxB,iBAAqCJ,GAArC,OAA4CsD,EAAI,gBAAYA,EAAK,IAAO,KAAvF9I,KAER,OACE,cAAC,GAAD,CAAM0H,MAAO5E,EAAO6E,WAAYmB,EAAOA,EAAK,GAAR,gBAAiBrD,GAArD,SACGzF,EAAO,cAAC,GAAD,CAASA,KAAMA,EAAMyL,YAAY,OAAOE,WAAW,aAAgB,cAAC,KAAD,CAASF,YAAY,aCFhGsB,GAAQ,CACZ,eACA,sBAmCaC,GAhCE,WAAO,IAAD,EACKC,mBAAS,GADd,mBACdC,EADc,KACPC,EADO,OAEGF,oBAAS,kBAAM,IAAIG,MAAOC,cAAgB,QAF7C,mBAEdzH,EAFc,KAER0H,EAFQ,OAGGL,qBAHH,mBAGdnE,EAHc,KAGRyE,EAHQ,KAIf/H,EAAO0H,EAAQ,IAAM,IACrBzH,EAAYsH,IAAOG,GAIzB,OAHAM,qBAAU,WACRD,EAAQ,QACP,CAACL,IAEF,eAAC,EAAD,CAAWzJ,GAAG,MAAd,UACE,cAAC,GAAD,CACEgC,UAAWA,EACXD,KAAM0H,EACNxH,aAAcyH,EACdxH,YAAaoH,GACbnH,KAAMA,EACNC,aAAcyH,IAEhB,eAAC,IAAD,CAAMG,GAAG,MAAM3H,WAAW,aAA1B,UACE,cAACnF,EAAD,CAAKsF,KAAK,IAAIyH,GAAG,MAAjB,SACE,cAAC,GAAD,CAAWlI,KAAMA,EAAMC,UAAWA,EAAWG,KAAMA,EAAMkD,KAAMA,EAAMW,UAAW8D,MAElF,eAAC,IAAD,CAAOxF,QAAQ,MAAM9B,KAAK,IAAI0H,GAAG,MAAjC,UACE,cAAC,GAAD,CAAanI,KAAMA,EAAMC,UAAWA,EAAWG,KAAMA,EAAMkD,KAAMA,IACjE,cAAC,GAAD,CAActD,KAAMA,EAAMC,UAAWA,EAAWG,KAAMA,EAAMkD,KAAMA,cC/B7D8E,OANf,WACE,OACE,cAAC,GAAD,KCOJC,IAASC,OACP,cAACC,EAAD,UACE,cAACC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,GAAD,UAINC,SAASC,eAAe,W","file":"static/js/main.f7635d92.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bg@2x.48842758.png\";","import { css } from '@emotion/react'\n\nimport bg from './bg@2x.png'\n\nexport default css`\n@import url('https://fonts.googleapis.com/css2?family=Barlow:wght@600;700&family=Noto+Sans+TC:wght@500;700;900&display=swap');\n\n  body {\n    min-width: 100%;\n    min-height: 100%;\n  }\n\n  img {\n    width: 100%;\n  }\n\n  #root {\n    background-image: url(${bg});\n    background-size: cover;\n    background-position: 50% 0;\n    overflow: hidden;\n  }\n`;\n","import { theme, extendTheme } from \"@chakra-ui/react\";\r\nimport { createBreakpoints } from \"@chakra-ui/theme-tools\"\r\nimport memoizeOne from 'memoize-one';\r\nimport get from 'lodash/get';\r\n\r\nconst chakraBp = createBreakpoints({\r\n  sm: \"30em\",\r\n  md: \"48em\",\r\n  lg: \"60em\",\r\n  xl: \"80em\",\r\n  \"2xl\": \"96em\",\r\n})\r\n\r\nexport const breakpoints = Object.values(chakraBp).slice(1)\r\n\r\nexport const responsiveIndex = [\r\n  [1, 'mobile'],\r\n  [2, 'tablet'],\r\n  [3, 'laptop'],\r\n  [4, 'desktop'],\r\n]\r\n\r\nconst responsiveMap = breakpoints.map((_, i) => {\r\n  const id = responsiveIndex.findIndex(([ri]) => ri > i)\r\n  return id >= 0 ? id : responsiveIndex.length\r\n})\r\n\r\nexport const responsive = memoizeOne((...args) => {\r\n  const argsLen = args.length\r\n  if (argsLen <= 1) return args[0]\r\n  return breakpoints.map((_, i) => get(args, [responsiveMap[i]], null))\r\n});\r\n\r\nexport const mobileOrDesktop = responsive\r\n\r\nexport const containerWidth = [null, \"48em\", \"60em\", \"80em\"];\r\nexport const containerPadding = responsive('1em', '2em')\r\n\r\nconst font = 'Barlow, \"Noto Sans TC\", \"PingFang TC\", \"HeiTi TC\", \"Microsoft JhengHei\", sans-serif';\r\nconst fonts = {\r\n  heading: font,\r\n  body: font,\r\n  mono: \"Menlo, monospace\",\r\n}\r\n\r\nconst treeMapGreen = {\r\n  100: '#A7E6E3',\r\n  200: '#8FD9D5',\r\n  300: '#7CCCC7',\r\n  400: '#6FBFB9',\r\n  500: '#62B3AE',\r\n  600: '#53A6A2',\r\n  700: '#449995',\r\n  800: '#2F857E',\r\n  900: '#2F857E',\r\n  1000: '#2F857E',\r\n}\r\n\r\nconst treeMapBlue = {\r\n  100: '#CDE7FA',\r\n  200: '#B2DAF7',\r\n  300: '#92C9F0',\r\n  400: '#76BCE8',\r\n  500: '#5BA7D9',\r\n  600: '#3A8EBF',\r\n  700: '#2B77AD',\r\n  800: '#0D5A8C',\r\n}\r\n\r\nconst primary = 'blue'\r\nconst secondary = 'green'\r\nconst danger = 'red'\r\n\r\nconst overrides = {\r\n  fonts,\r\n  colors: {\r\n    ...theme.colors,\r\n    primary: get(theme.colors, `${primary}.500`),\r\n    secondary: get(theme.colors, `${secondary}.500`),\r\n    danger: get(theme.colors, `${danger}.500`),\r\n    text: get(theme.colors, 'black'),\r\n    custom: {\r\n      gray: '#B1B1B2',\r\n      darkBlue: '#094063',\r\n      textOrange: '#E09200',\r\n      textBlue: '#005678',\r\n      orange: '#FFA323',\r\n      yellow: '#FFD31F',\r\n      orangeAlpha: 'RGBA(255, 163, 35, 0.5)',\r\n      yellowAlpha: 'RGBA(255, 211, 31, 0.5)',\r\n      lightCyan: '#8FD9D5',\r\n      cyan: '#5EABA7',\r\n      lightBlue: '#5798C5',\r\n      labelBlue: '#00729F',\r\n      blue: '#3380B5',\r\n      darkGreen: '#2F857E',\r\n      treeMapGreen,\r\n      treeMapBlue,\r\n    },\r\n  },\r\n  breakpoints,\r\n  containerWidth,\r\n  headerHeight: '5em',\r\n}\r\n\r\nconst customTheme = extendTheme(overrides)\r\n\r\nexport default customTheme\r\n","import React from 'react';\r\nimport { Global } from '@emotion/react'\r\nimport { ChakraProvider } from \"@chakra-ui/react\"\r\n\r\nimport globalStyles from './global-styles';\r\n\r\nimport theme from './theme';\r\n\r\nconst ReThemeProvider = ({ children }) => (\r\n  <ChakraProvider theme={theme} resetCSS>\r\n    <>\r\n      <Global styles={globalStyles} />\r\n      {children}\r\n    </>\r\n  </ChakraProvider>\r\n);\r\n\r\nexport default ReThemeProvider\r\n","import { createContext } from 'react';\r\n\r\nexport default createContext({})\r\n","import { useMediaQuery } from 'react-responsive'\r\n\r\nconst useMq = bp => useMediaQuery({ query: `(min-width: ${bp})` })\r\n\r\nexport default useMq\r\n","import React from 'react';\r\n\r\nimport { breakpoints } from '../../components/ThemeProvider/theme';\r\nimport MediaContext from './mediaContext'\r\nimport mqHook from './mqHook'\r\n\r\nconst MediaQuery = ({ children }) => {\r\n  const q = breakpoints.map(mqHook)\r\n  return (\r\n    <MediaContext.Provider value={q}>\r\n      {children}\r\n    </MediaContext.Provider>\r\n  )\r\n}\r\n\r\nexport default MediaQuery;\r\n","import { createContext } from \"react\";\r\n\r\nexport const defaultLabels = {\r\n  headTitle: '歲入歲出分析',\r\n  updatedAt: '資料更新日期',\r\n  budgetTitle: '預算數',\r\n  revenueTitle: '歲入來源別科目分析',\r\n  spendingTitle: '歲出大政事別科目分析',\r\n}\r\n\r\nconst labelContext = createContext(defaultLabels)\r\n\r\nexport default labelContext\r\n","import React from 'react'\r\nimport useSWR from 'swr'\r\n\r\nimport labelContext, { defaultLabels } from './labelContext'\r\n\r\nconst LabelProvider = ({ children }) => {\r\n  const { data = defaultLabels } = useSWR('/labels')\r\n  return <labelContext.Provider value={data}>{children}</labelContext.Provider>\r\n}\r\n\r\nexport default LabelProvider\r\n","import React from 'react'\nimport { SWRConfig } from 'swr'\nimport LabelProvider from './labelProvider'\n\nexport const BASE_URL = `https://cbadcmst.dgbas.gov.tw/GTFL/api`\n// export const BASE_URL = `/GTFL/api`\n\nconst Provider = ({ children, options }) => (\n  <SWRConfig\n    value={{\n      fetcher: (resource, init) => fetch(BASE_URL + resource, init).then(res => res.json()),\n      ...options\n    }}\n  >\n    <LabelProvider>\n      {children}\n    </LabelProvider>\n  </SWRConfig>\n)\n\nexport default Provider\n","import React, { forwardRef } from 'react';\r\nimport { Box } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReBox = styled(Box)``\r\n\r\nexport default ReBox\r\n\r\nReBox.Inline = forwardRef((props, ref) => <ReBox as=\"span\" display=\"inline-block\" verticalAlign=\"middle\" {...props} ref={ref} />);\r\nReBox.Absolute = forwardRef((props, ref) => <ReBox position=\"absolute\" {...props} ref={ref} />);\r\nReBox.AbsCenter = forwardRef((props, ref) => <ReBox position=\"absolute\" top=\"50%\" left=\"50%\" transform=\"transform(-50%, -50%)\" {...props} ref={ref} />);\r\nReBox.FullAbs = forwardRef((props, ref) => <ReBox.Absolute top=\"0\" left=\"0\" right=\"0\" bottom=\"0\" {...props} ref={ref} />)\r\nReBox.Relative = forwardRef((props, ref) => <ReBox position=\"relative\" {...props} ref={ref} />)\r\nReBox.Fixed = forwardRef((props, ref) => <ReBox position=\"fixed\" {...props} ref={ref} />)\r\nReBox.Invisible = forwardRef((props, ref) => <ReBox.Absolute width=\"0\" height=\"0\" overflow=\"hidden\" opacity=\"0\" {...props} ref={ref} />)\r\n","import styled from '@emotion/styled';\r\n\r\nimport Box from './Box';\r\nimport { containerWidth, containerPadding } from './ThemeProvider/theme';\r\n\r\nconst Container = styled(Box)``\r\n\r\nContainer.defaultProps = {\r\n  mx: 'auto',\r\n  px: containerPadding,\r\n  maxWidth: containerWidth,\r\n};\r\n\r\nContainer.displayName = 'Container';\r\n\r\nexport default Container;\r\n","import { useContext } from 'react'\r\n\r\nimport labelContext from './labelContext'\r\n\r\nconst useLabel = (key) => {\r\n  const labels = useContext(labelContext)\r\n  return key ? labels[key] : labels\r\n}\r\n\r\nexport default useLabel\r\n","import { HStack, Text } from '@chakra-ui/layout'\r\nimport React from 'react'\r\nimport useSWR from 'swr'\r\nimport useLabel from '../api/useLabel'\r\n\r\nconst UpdatedAt = () => {\r\n  const { data } = useSWR('/lastUpdated')\r\n  const label = useLabel('updatedAt')\r\n  return (\r\n    <HStack color=\"custom.darkBlue\" fontSize=\"0.875em\">\r\n      <Text fontWeight=\"500\">{label}:</Text>\r\n      <Text fontWeight=\"500\">{data?.date || ''}</Text>\r\n    </HStack>\r\n  )\r\n}\r\n\r\nexport default UpdatedAt\r\n","import { Box, Flex } from '@chakra-ui/layout'\r\nimport React from 'react'\r\n\r\nconst TypeToggler = ({ value, onChange, options }) => {\r\n  return (\r\n    <Flex position=\"relative\" rounded=\"full\" bg=\"white\" boxShadow=\"inner\" width=\"10em\" fontSize=\"1.125em\">\r\n      <Box\r\n        position=\"absolute\"\r\n        transition=\"all 500ms\"\r\n        bgGradient=\"linear(to-r, custom.orange, custom.yellow)\"\r\n        width=\"52.5%\"\r\n        height=\"120%\"\r\n        left=\"0\"\r\n        top=\"0\"\r\n        transform={`translate(${value ? 90 : -2.5}%, -10%)`}\r\n        rounded=\"full\"\r\n        boxShadow=\"md\"\r\n      />\r\n      {options.map((label, i) => (\r\n        <Box\r\n          width=\"100%\"\r\n          key={i}\r\n          px=\"0.5em\"\r\n          py=\"0.25em\"\r\n          color={value === i ? 'black' : 'custom.gray'}\r\n          fontWeight={value === i ? 700 : 500}\r\n          position=\"relative\"\r\n          transition=\"all 500ms\"\r\n          letterSpacing=\"widest\"\r\n          textAlign=\"center\"\r\n          onClick={() => onChange(i)}\r\n          cursor=\"pointer\"\r\n        >\r\n          {label}\r\n        </Box>\r\n      ))}\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default TypeToggler\r\n","import { IconButton } from '@chakra-ui/button'\r\nimport { Input } from '@chakra-ui/input'\r\nimport { Box } from '@chakra-ui/layout'\r\nimport React, { useCallback } from 'react'\r\nimport useSWR from 'swr'\r\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi'\r\nimport { useNumberInput } from '@chakra-ui/number-input'\r\n\r\nconst ChevButton = props => (\r\n  <IconButton\r\n    variant=\"unstyled\"\r\n    rounded=\"full\"\r\n    bgGradient=\"linear(to-r, custom.orange, custom.yellow)\"\r\n    bgColor=\"white\"\r\n    color=\"white\"\r\n    boxShadow=\"md\"\r\n    fontSize=\"1.75em\"\r\n    width=\"1.125em\"\r\n    minW=\"1.125em\"\r\n    height=\"1.125em\"\r\n    display=\"flex\"\r\n    px=\"0.25em\"\r\n    py=\"0.25em\"\r\n    _disabled={{\r\n      bgGradient: \"linear(to-r, custom.orangeAlpha, custom.yellowAlpha)\",\r\n      opacity: 1,\r\n      cursor: 'not-allowed',\r\n    }}\r\n    _hover={{\r\n      opacity: 1,\r\n    }}\r\n    {...props}\r\n  />\r\n)\r\n\r\nconst YearSelector = ({ onChange }) => {\r\n  const { data = [] } = useSWR('/yearsList')\r\n  const handleChange = useCallback(v => {\r\n    onChange(data[data.length - 1 - v])\r\n  }, [data, onChange])\r\n  const {\r\n    getInputProps,\r\n    getIncrementButtonProps,\r\n    getDecrementButtonProps,\r\n  } = useNumberInput({\r\n    step: 1,\r\n    defaultValue: 0,\r\n    min: 0,\r\n    max: Math.max(0, data.length - 1),\r\n    onChange: handleChange\r\n  })\r\n\r\n  const inc = getIncrementButtonProps()\r\n  const dec = getDecrementButtonProps()\r\n  const input = getInputProps({ isReadOnly: true })\r\n  return (\r\n    <Box position=\"relative\" width=\"7em\" bg=\"white\" rounded=\"full\" border=\"2xp solid white\" boxShadow=\"inner\">\r\n      <Input\r\n        width=\"100%\"\r\n        textAlign=\"center\"\r\n        variant=\"unstyled\"\r\n        py=\"0.125em\"\r\n        fontSize=\"1.25em\"\r\n        letterSpacing=\"wider\"\r\n        value={data[data.length - 1 - input.value]}\r\n        isReadOnly\r\n        // {...input}\r\n      />\r\n      <Box position=\"absolute\" left=\"-0.75em\" top=\"50%\" transform=\"translate(0, -50%)\">\r\n        <ChevButton icon={<FiChevronLeft />} {...inc} />\r\n      </Box>\r\n      <Box position=\"absolute\" right=\"-0.75em\" top=\"50%\" transform=\"translate(0, -50%)\">\r\n        <ChevButton icon={<FiChevronRight />} {...dec} />\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default YearSelector\r\n","import React from 'react'\nimport { Heading, Box, Flex } from \"@chakra-ui/react\";\n\nimport UpdatedAt from './UpdatedAt';\nimport useLabel from '../api/useLabel';\nimport TypeToggler from './TypeToggler';\nimport YearSelector from './YearSelector';\n\nconst Header = ({\n  type,\n  typeLabel,\n  onTypeChange,\n  typeOptions,\n  year,\n  onYearChange,\n  ...props\n}) => {\n  const label = useLabel('headTitle')\n  return (\n    <Flex\n      alignItems=\"flex-end\"\n      borderBottom=\"1px solid white\"\n      pb=\"1.5em\"\n      {...props}\n    >\n      <Flex flex={1} alignItems=\"center\">\n        <Heading as=\"h1\" color=\"white\" letterSpacing=\"widest\" fontSize=\"1.75em\" minW={`${label.length + 5}em`}>\n          各{typeLabel}{label}\n        </Heading>\n        <Box mx=\"1.5em\"><YearSelector value={year} onChange={onYearChange} /></Box>\n        <TypeToggler value={type} options={typeOptions} onChange={onTypeChange} />\n      </Flex>\n      <UpdatedAt />\n    </Flex>\n  )\n}\n\nexport default Header\n","import React, { forwardRef } from 'react';\r\nimport { Text } from \"@chakra-ui/react\";\r\nimport range from 'lodash/range';\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReText = styled(Text)``\r\n\r\nReText.Inline = forwardRef((props, ref) => <ReText as=\"span\" {...props} ref={ref} />);\r\nReText.Bold = forwardRef((props, ref) => <ReText fontWeight=\"700\" {...props} ref={ref} />);\r\nReText.Thin = forwardRef((props, ref) => <ReText fontWeight=\"200\" {...props} ref={ref} />);\r\n\r\nrange(1, 7).forEach((key) => {\r\n  ReText[`H${key}`] = forwardRef((props, ref) => (\r\n    <ReText\r\n      as={`h${key}`}\r\n      fontSize={`${5 - key}xl`}\r\n      {...props}\r\n      ref={ref}\r\n    />\r\n  ));\r\n});\r\n\r\nexport default ReText\r\n","import React, { forwardRef } from 'react'\r\nimport { Flex } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReFlex = styled(Flex)``\r\n\r\nReFlex.Vertical = forwardRef((props, ref) => <Flex direction=\"column\" {...props} ref={ref} />)\r\n\r\nexport default ReFlex\r\n","import { useMemo } from 'react';\r\nimport { get, isArray } from 'lodash'\r\n\r\nconst useWebpImage = (src) => {\r\n  const canUseWebp = get(window, 'Modernizr.webp')\r\n\r\n  const pic = useMemo(() => {\r\n    if (!isArray(src)) return null\r\n    return canUseWebp ? src[0] : src[1];\r\n  }, [canUseWebp, src])\r\n\r\n  return pic\r\n}\r\n\r\nexport default useWebpImage\r\n","import React, { forwardRef } from 'react';\r\nimport { isArray } from 'lodash'\r\nimport { AspectRatio } from '@chakra-ui/react';\r\n\r\nimport Box from './Box'\r\nimport useWebpImage from './utils/useWebpImage';\r\n\r\nconst BGImage = ({ src, children, ...props }) => {\r\n  const pic = useWebpImage(src)\r\n\r\n  return (\r\n    <Box\r\n      backgroundImage={`url(${isArray(src) ? pic : src})`}\r\n      {...props}\r\n    >\r\n      {children && (\r\n        <Box.FullAbs>{children}</Box.FullAbs>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n\r\nBGImage.defaultProps = {\r\n  backgroundSize: 'cover',\r\n  backgroundPosition: '50% 50%',\r\n  backgroundRepet: 'no-repeat',\r\n};\r\n\r\nconst BackgroundImage = forwardRef(({\r\n  src,\r\n  children,\r\n  backgroundSize,\r\n  backgroundPosition,\r\n  ...props\r\n}, ref) => (\r\n  <AspectRatio {...props} ref={ref}>\r\n    <BGImage\r\n      src={src}\r\n      backgroundSize={backgroundSize}\r\n      backgroundPosition={backgroundPosition}\r\n    >{children}</BGImage>\r\n  </AspectRatio>\r\n));\r\n\r\nBackgroundImage.displayName = 'BackgroundImage';\r\n\r\nexport default BackgroundImage\r\n","export default __webpack_public_path__ + \"static/media/arrow.fa88aa12.svg\";","import { Box, Heading, HStack, Text } from '@chakra-ui/layout'\r\nimport React from 'react'\r\nimport BackgroundImage from './BackgroundImage'\r\n\r\nimport arrow from './arrow.svg'\r\n\r\nconst Card = ({\r\n  title,\r\n  hightlight,\r\n  titleRight,\r\n  children,\r\n  ...props\r\n}) => (\r\n  <Box\r\n    rounded=\"2em\"\r\n    p=\"2em\"\r\n    boxShadow=\"lg\"\r\n    bg=\"white\"\r\n    {...props}\r\n  >\r\n    <HStack\r\n      pb=\"1em\"\r\n      mb=\"1.5em\"\r\n      position=\"relative\"\r\n      spacing=\"0.625em\"\r\n      _before={{\r\n        content: '\"\"',\r\n        display: 'block',\r\n        position: 'absolute',\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        height: '1px',\r\n        bgImage: 'linear-gradient(to right, #238CC5, #B7A5D1)',\r\n      }}\r\n    >\r\n      <BackgroundImage width=\"1.375em\" ratio={1} src={arrow} />\r\n      <Heading color=\"custom.textBlue\" fontSize=\"1.5em\" letterSpacing=\"widest\">\r\n        {hightlight && <Text mr=\"0.25em\" as=\"span\" color=\"custom.textOrange\">{hightlight}</Text>}\r\n        {title}\r\n      </Heading>\r\n      <Box flex=\"1\" />\r\n      {titleRight}\r\n    </HStack>\r\n    {children}\r\n  </Box>\r\n)\r\n\r\nexport default Card\r\n","import React, { useCallback, useMemo } from 'react'\r\nimport useSWR from 'swr'\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  LabelList,\r\n  Rectangle,\r\n} from 'recharts';\r\nimport { format } from 'd3-format'\r\n\r\nimport useLabel from '../api/useLabel'\r\nimport Box from '../components/Box'\r\nimport Text from '../components/Text'\r\nimport Flex from '../components/Flex'\r\nimport Card from '../components/Card'\r\nimport theme from '../components/ThemeProvider/theme'\r\nimport { Spinner } from '@chakra-ui/spinner';\r\n\r\nconst legend = [\r\n  {\r\n    label: '歲入',\r\n    bg: 'custom.lightCyan'\r\n  },\r\n  {\r\n    label: '歲出',\r\n    bg: 'custom.lightBlue'\r\n  },\r\n]\r\n\r\nconst fontSize = 18\r\nconst f = format(',d')\r\n\r\nconst RenderCustomAxisTick = ({ x, y, payload, width, onClick, index, city }) => {\r\n  const w = fontSize * 4.5\r\n  const h = fontSize * 2.125\r\n  const active = !city || city[2] === index\r\n  return (\r\n    <g\r\n      transform={`translate(${x - width - fontSize * 1.375}, ${y - fontSize * 1.125})`}\r\n      onClick={() => onClick(index)}\r\n      style={{ cursor: 'pointer', opacity: active ? 1 : 0.33 }}\r\n    >\r\n      <Rectangle\r\n        radius={8}\r\n        width={w}\r\n        height={h}\r\n        fill=\"url(#Gradient1)\"\r\n        opacity=\"0.175\"\r\n      />\r\n      <Rectangle\r\n        radius={8}\r\n        width={w}\r\n        height={h}\r\n        fill=\"none\"\r\n        stroke={theme.colors.custom.textBlue}\r\n      />\r\n      <text\r\n        x={w / 2}\r\n        y={h / 2 + fontSize * 0.35}\r\n        fontSize={fontSize}\r\n        fill={theme.colors.custom.textBlue}\r\n        textAnchor=\"middle\"\r\n      >\r\n        {payload.value}\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nconst BudgetBar = ({ type, year, typeLabel, city, onSetCity }) => {\r\n  const label = useLabel('budgetTitle')\r\n  const { data } = useSWR(`/data/cities?year=${year}&type=${type}`)\r\n  const chartData = useMemo(() => data ? data.map(({ name, revenue, spending }) => ({\r\n    name,\r\n    歲出: spending,\r\n    歲入: revenue\r\n  })) : [], [data])\r\n  const handleLabelClick = useCallback((index) => {\r\n    const clicked = data[index].id\r\n    onSetCity(city?.[0] === clicked ? null : [clicked, data[index].name, index])\r\n  }, [data, onSetCity, city])\r\n  return (\r\n    <Card\r\n      title={`各${typeLabel}${label}`}\r\n      width=\"100%\"\r\n      titleRight={\r\n        <Flex>\r\n          {legend.map(({ label, bg }, i) => (\r\n            <Flex alignItems=\"center\" ml={i && '1.5em'} key={i}>\r\n              <Box mr=\"0.375em\" width=\"2.5em\" py=\"0.5em\" bg={bg} />\r\n              <Text color=\"custom.labelBlue\">{label}</Text>\r\n            </Flex>\r\n          ))}\r\n        </Flex>\r\n      }\r\n    >\r\n      {data ? (\r\n        <BarChart\r\n          layout=\"vertical\"\r\n          width={500}\r\n          height={1350}\r\n          min={0}\r\n          barGap={0}\r\n          data={chartData}\r\n          margin={{\r\n            top: 0,\r\n            right: 20,\r\n            left: 36,\r\n            bottom: 0,\r\n          }}\r\n        >\r\n          <defs>\r\n            <linearGradient id=\"Gradient1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\r\n              <stop offset=\"0%\" stopColor=\"rgba(0,114,159,0)\"/>\r\n              <stop offset=\"100%\" stopColor=\"rgba(0,114,159,1)\"/>\r\n            </linearGradient>\r\n          </defs>\r\n          <XAxis\r\n            type=\"number\"\r\n            tick={false}\r\n            tickLine={false}\r\n            axisLine={false}\r\n            strokeWidth={0}\r\n            padding={{ right: 240 }}\r\n          />\r\n          <YAxis\r\n            tickLine={false}\r\n            axisLine={false}\r\n            dataKey=\"name\"\r\n            type=\"category\"\r\n            tick={<RenderCustomAxisTick onClick={handleLabelClick} city={city} />}\r\n          />\r\n          <Bar dataKey=\"歲入\" barSize={25} fill={theme.colors.custom.lightCyan}>\r\n            <LabelList\r\n              dataKey=\"歲入\"\r\n              position=\"right\"\r\n              fill={theme.colors.custom.cyan}\r\n              formatter={f}\r\n            />\r\n          </Bar>\r\n          <Bar dataKey=\"歲出\" barSize={25} fill={theme.colors.custom.lightBlue}>\r\n            <LabelList\r\n              dataKey=\"歲出\"\r\n              position=\"right\"\r\n              fill={theme.colors.custom.blue}\r\n              formatter={f}\r\n            />\r\n          </Bar>\r\n        </BarChart>\r\n      ) : <Spinner colorScheme=\"green\" />}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default BudgetBar\r\n","import React, { useMemo } from 'react'\r\nimport { Treemap, Tooltip } from 'recharts';\r\nimport { map, maxBy, minBy, sortBy } from 'lodash';\r\nimport { scaleLinear } from 'd3-scale'\r\nimport { format } from 'd3-format'\r\n\r\nimport Box from '../../components/Box'\r\nimport Text from '../../components/Text'\r\n\r\nconst f = format(',d')\r\n\r\nconst CustomTooltip = ({ active, payload, valueColor }) => {\r\n  if (active && payload && payload.length) {\r\n    return (\r\n      <Box bg=\"rgba(255, 255, 255, 0.9)\" borderRadius=\"0.5em\" p=\"0.25em 0.5em\">\r\n        <Text fontSize=\"1.125em\">{payload[0].payload.name}</Text>\r\n        <Text fontSize=\"1.625em\" color={`custom.${valueColor}`}>{`${f(payload[0].value)}`}</Text>\r\n      </Box>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nconst CustomizedContent = ({\r\n  depth,\r\n  x,\r\n  y,\r\n  width,\r\n  height,\r\n  name,\r\n  colorScale,\r\n  value,\r\n}) => {\r\n  return (\r\n    <g>\r\n      <rect\r\n        x={x}\r\n        y={y}\r\n        width={width}\r\n        height={height}\r\n        style={{\r\n          fill: colorScale(value || 0),\r\n          stroke: '#fff',\r\n          strokeWidth: 2,\r\n        }}\r\n      />\r\n      {depth === 1 ? (\r\n        <text x={x + width / 2} y={y + height / 2 + 7} textAnchor=\"middle\" fill=\"#fff\" fontSize={18}>\r\n          {width < name.length * 20 ? '...' : name}\r\n        </text>\r\n      ) : null}\r\n    </g>\r\n  );\r\n}\r\n\r\n\r\nconst colors = {\r\n  green: ['#A7E6E3', '#2F857E'],\r\n  blue: ['#CDE7FA', '#0D5A8C']\r\n}\r\n\r\nconst TreeMap = ({ data, colorScheme, valueColor }) => {\r\n  const treeData = useMemo(() => data ? sortBy(map(data, ({ name, value }) => (\r\n    {\r\n      name,\r\n      value: +value\r\n    }\r\n  )), ['value']).reverse() : [], [data])\r\n  const extent = useMemo(() => {\r\n    const min = minBy(treeData, 'value')\r\n    const max = maxBy(treeData, 'value')\r\n    return [min?.value || 0, max?.value || 1]\r\n  }, [treeData])\r\n  const colorScale = useMemo(() =>\r\n    scaleLinear()\r\n      .domain(extent)\r\n      .range(colors[colorScheme])\r\n    , [extent, colorScheme])\r\n  return (\r\n    <Treemap\r\n      width={530}\r\n      height={600}\r\n      data={treeData}\r\n      ratio={4 / 3}\r\n      dataKey=\"value\"\r\n      animationDuration={500}\r\n      content={<CustomizedContent colorScale={colorScale} />}\r\n    >\r\n      <Tooltip valueColor={valueColor} content={<CustomTooltip />} />\r\n    </Treemap>\r\n  )\r\n}\r\n\r\nexport default TreeMap\r\n","import { Spinner } from '@chakra-ui/spinner'\r\nimport React from 'react'\r\nimport useSWR from 'swr'\r\n\r\nimport useLabel from '../api/useLabel'\r\nimport Card from '../components/Card'\r\nimport TreeMap from './Charts/TreeMap'\r\n\r\nconst RevenueTree = ({ type, year, typeLabel, city }) => {\r\n  const label = useLabel('revenueTitle')\r\n  const { data } = useSWR(`/data/revenue?year=${year}&type=${type}${city ? `&city=${city[0]}` : ''}`)\r\n\r\n  return (\r\n    <Card title={label} hightlight={city ? city[1] : `全${typeLabel}`}>\r\n      {data ? <TreeMap data={data} colorScheme=\"green\" valueColor=\"darkGreen\" /> : <Spinner colorScheme=\"green\" />}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default RevenueTree\r\n","import { Spinner } from '@chakra-ui/spinner'\r\nimport React from 'react'\r\nimport useSWR from 'swr'\r\nimport useLabel from '../api/useLabel'\r\nimport Card from '../components/Card'\r\nimport TreeMap from './Charts/TreeMap'\r\n\r\nconst SpendingTree = ({ type, year, typeLabel, city }) => {\r\n  const label = useLabel('spendingTitle')\r\n  const { data } = useSWR(`/data/spending?year=${year}&type=${type}${city ? `&city=${city[0]}` : ''}`)\r\n\r\n  return (\r\n    <Card title={label} hightlight={city ? city[1] : `全${typeLabel}`}>\r\n      {data ? <TreeMap data={data} colorScheme=\"blue\" valueColor=\"darkBlue\" /> : <Spinner colorScheme=\"green\" />}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default SpendingTree\r\n","import React, { useEffect, useState } from 'react'\nimport { Flex, Stack } from '@chakra-ui/layout'\n\nimport Container from '../components/Container'\nimport Box from '../components/Box'\n\nimport Header from './Header';\nimport BudgetBar from './BudgetBar'\nimport RevenueTree from './RevenueTree'\nimport SpendingTree from './SpendingTree'\n\nconst types = [\n  '市縣',\n  '鄉鎮市',\n]\n\nconst HomePage = () => {\n  const [isSub, setIsSub] = useState(0)\n  const [year, setYear] = useState(() => new Date().getFullYear() - 1911)\n  const [city, setCity] = useState()\n  const type = isSub ? 'B' : 'A'\n  const typeLabel = types[+isSub]\n  useEffect(() => {\n    setCity(null)\n  }, [isSub])\n  return (\n    <Container py=\"2em\">\n      <Header\n        typeLabel={typeLabel}\n        type={isSub}\n        onTypeChange={setIsSub}\n        typeOptions={types}\n        year={year}\n        onYearChange={setYear}\n      />\n      <Flex my=\"3em\" alignItems=\"flex-start\">\n        <Box flex=\"1\" pr=\"1em\">\n          <BudgetBar type={type} typeLabel={typeLabel} year={year} city={city} onSetCity={setCity} />\n        </Box>\n        <Stack spacing=\"1em\" flex=\"1\" pl=\"1em\">\n          <RevenueTree type={type} typeLabel={typeLabel} year={year} city={city} />\n          <SpendingTree type={type} typeLabel={typeLabel} year={year} city={city} />\n        </Stack>\n      </Flex>\n    </Container>\n  )\n}\n\nexport default HomePage\n","import React from 'react';\r\n\r\nimport HomePage from './containers/HomePage'\r\n\r\nfunction App() {\r\n  return (\r\n    <HomePage />\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import 'react-app-polyfill/ie11'\r\nimport 'react-app-polyfill/stable'\r\nimport 'whatwg-fetch'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport ThemeProvider from './components/ThemeProvider'\r\nimport MediaProvider from './contexts/mediaQuery/MediaProvider'\r\nimport ApiProvider from './api/provider'\r\n\r\nimport App from './App';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <ThemeProvider>\r\n    <MediaProvider>\r\n      <ApiProvider>\r\n        <App />\r\n      </ApiProvider>\r\n    </MediaProvider>\r\n  </ThemeProvider>\r\n, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}
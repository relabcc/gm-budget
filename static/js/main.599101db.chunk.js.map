{"version":3,"sources":["components/ThemeProvider/bg@2x.png","components/ThemeProvider/global-styles.js","components/ThemeProvider/theme.js","components/ThemeProvider/index.js","contexts/mediaQuery/mediaContext.js","contexts/mediaQuery/mqHook.js","contexts/mediaQuery/MediaProvider.js","api/labelContext.js","api/labelProvider.js","api/provider.js","components/Box.js","components/Container.js","api/useLabel.js","containers/UpdatedAt.js","containers/TypeToggler.js","containers/YearSelector.js","containers/Header.js","components/Text.js","components/Flex.js","components/utils/useWebpImage.js","components/BackgroundImage.js","components/arrow.svg","components/Card.js","containers/BudgetBar.js","containers/Charts/TreeMap.js","containers/RevenueTree.js","containers/SpendingTree.js","containers/HomePage.js","App.js","index.js"],"names":["css","bg","chakraBp","createBreakpoints","sm","md","lg","xl","breakpoints","Object","values","slice","responsiveIndex","responsiveMap","map","_","i","id","findIndex","length","responsive","memoizeOne","args","argsLen","get","containerWidth","containerPadding","font","overrides","fonts","heading","body","mono","colors","theme","primary","secondary","danger","text","custom","gray","darkBlue","textOrange","textBlue","orange","yellow","orangeAlpha","yellowAlpha","lightCyan","cyan","lightBlue","labelBlue","blue","darkGreen","treeMapGreen","100","200","300","400","500","600","700","800","900","1000","treeMapBlue","headerHeight","customTheme","extendTheme","ReThemeProvider","children","resetCSS","styles","globalStyles","createContext","useMq","bp","useMediaQuery","query","MediaQuery","q","mqHook","Provider","value","defaultLabels","headTitle","updatedAt","budgetTitle","revenueTitle","spendingTitle","labelContext","LabelProvider","useSWR","data","options","fetcher","resource","init","fetch","then","res","json","ReBox","styled","Box","Inline","forwardRef","props","ref","as","display","verticalAlign","Absolute","position","AbsCenter","top","left","transform","FullAbs","right","bottom","Relative","Fixed","Invisible","width","height","overflow","opacity","Container","defaultProps","mx","px","maxWidth","displayName","useLabel","key","labels","useContext","UpdatedAt","label","color","fontSize","fontWeight","date","TypeToggler","onChange","rounded","boxShadow","transition","bgGradient","py","letterSpacing","textAlign","onClick","cursor","ChevButton","variant","bgColor","minW","_disabled","_hover","YearSelector","handleChange","useCallback","v","useNumberInput","step","defaultValue","min","max","Math","getInputProps","getIncrementButtonProps","getDecrementButtonProps","inc","dec","input","isReadOnly","border","icon","Header","type","typeLabel","onTypeChange","typeOptions","year","onYearChange","alignItems","borderBottom","pb","flex","spacing","ReText","Text","Bold","Thin","range","forEach","ReFlex","Flex","Vertical","direction","useWebpImage","src","canUseWebp","window","useMemo","isArray","BGImage","pic","backgroundImage","backgroundSize","backgroundPosition","backgroundRepet","BackgroundImage","Card","title","hightlight","titleRight","p","mb","_before","content","bgImage","ratio","arrow","mr","legend","f","format","RenderCustomAxisTick","x","y","payload","index","city","h","active","style","Rectangle","radius","fill","stroke","w","textAnchor","BudgetBar","onSetCity","chartData","name","revenue","歲出","spending","歲入","handleLabelClick","clicked","ml","BarChart","layout","barGap","margin","x1","x2","y1","y2","class","offset","stop-color","XAxis","tick","tickLine","axisLine","strokeWidth","padding","YAxis","dataKey","Bar","barSize","LabelList","formatter","colorScheme","CustomTooltip","valueColor","borderRadius","CustomizedContent","depth","colorScale","green","TreeMap","treeData","sortBy","reverse","extent","minBy","maxBy","scaleLinear","domain","Treemap","animationDuration","Tooltip","RevenueTree","SpendingTree","types","HomePage","useState","isSub","setIsSub","Date","getFullYear","setYear","setCity","useEffect","my","App","ReactDOM","render","ThemeProvider","MediaProvider","document","getElementById"],"mappings":"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","file":"static/js/main.599101db.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bg@2x.48842758.png\";","import { css } from '@emotion/react'\n\nimport bg from './bg@2x.png'\n\nexport default css`\n@import url('https://fonts.googleapis.com/css2?family=Barlow:wght@600;700&family=Noto+Sans+TC:wght@500;700;900&display=swap');\n\n  body {\n    min-width: 100%;\n    min-height: 100%;\n  }\n\n  img {\n    width: 100%;\n  }\n\n  #root {\n    background-image: url(${bg});\n    background-size: cover;\n    background-position: 50% 0;\n  }\n`;\n","import { theme, extendTheme } from \"@chakra-ui/react\";\r\nimport { createBreakpoints } from \"@chakra-ui/theme-tools\"\r\nimport memoizeOne from 'memoize-one';\r\nimport get from 'lodash/get';\r\n\r\nconst chakraBp = createBreakpoints({\r\n  sm: \"30em\",\r\n  md: \"48em\",\r\n  lg: \"60em\",\r\n  xl: \"80em\",\r\n  \"2xl\": \"96em\",\r\n})\r\n\r\nexport const breakpoints = Object.values(chakraBp).slice(1)\r\n\r\nexport const responsiveIndex = [\r\n  [1, 'mobile'],\r\n  [2, 'tablet'],\r\n  [3, 'laptop'],\r\n  [4, 'desktop'],\r\n]\r\n\r\nconst responsiveMap = breakpoints.map((_, i) => {\r\n  const id = responsiveIndex.findIndex(([ri]) => ri > i)\r\n  return id >= 0 ? id : responsiveIndex.length\r\n})\r\n\r\nexport const responsive = memoizeOne((...args) => {\r\n  const argsLen = args.length\r\n  if (argsLen <= 1) return args[0]\r\n  return breakpoints.map((_, i) => get(args, [responsiveMap[i]], null))\r\n});\r\n\r\nexport const mobileOrDesktop = responsive\r\n\r\nexport const containerWidth = [null, \"48em\", \"60em\", \"80em\"];\r\nexport const containerPadding = responsive('1em', '2em')\r\n\r\nconst font = 'Barlow, \"Noto Sans TC\", \"PingFang TC\", \"HeiTi TC\", \"Microsoft JhengHei\", sans-serif';\r\nconst fonts = {\r\n  heading: font,\r\n  body: font,\r\n  mono: \"Menlo, monospace\",\r\n}\r\n\r\nconst treeMapGreen = {\r\n  100: '#A7E6E3',\r\n  200: '#8FD9D5',\r\n  300: '#7CCCC7',\r\n  400: '#6FBFB9',\r\n  500: '#62B3AE',\r\n  600: '#53A6A2',\r\n  700: '#449995',\r\n  800: '#2F857E',\r\n  900: '#2F857E',\r\n  1000: '#2F857E',\r\n}\r\n\r\nconst treeMapBlue = {\r\n  100: '#CDE7FA',\r\n  200: '#B2DAF7',\r\n  300: '#92C9F0',\r\n  400: '#76BCE8',\r\n  500: '#5BA7D9',\r\n  600: '#3A8EBF',\r\n  700: '#2B77AD',\r\n  800: '#0D5A8C',\r\n}\r\n\r\nconst primary = 'blue'\r\nconst secondary = 'green'\r\nconst danger = 'red'\r\n\r\nconst overrides = {\r\n  fonts,\r\n  colors: {\r\n    ...theme.colors,\r\n    primary: get(theme.colors, `${primary}.500`),\r\n    secondary: get(theme.colors, `${secondary}.500`),\r\n    danger: get(theme.colors, `${danger}.500`),\r\n    text: get(theme.colors, 'black'),\r\n    custom: {\r\n      gray: '#B1B1B2',\r\n      darkBlue: '#094063',\r\n      textOrange: '#E09200',\r\n      textBlue: '#005678',\r\n      orange: '#FFA323',\r\n      yellow: '#FFD31F',\r\n      orangeAlpha: 'RGBA(255, 163, 35, 0.5)',\r\n      yellowAlpha: 'RGBA(255, 211, 31, 0.5)',\r\n      lightCyan: '#8FD9D5',\r\n      cyan: '#5EABA7',\r\n      lightBlue: '#5798C5',\r\n      labelBlue: '#00729F',\r\n      blue: '#3380B5',\r\n      darkGreen: '#2F857E',\r\n      treeMapGreen,\r\n      treeMapBlue,\r\n    },\r\n  },\r\n  breakpoints,\r\n  containerWidth,\r\n  headerHeight: '5em',\r\n}\r\n\r\nconst customTheme = extendTheme(overrides)\r\n\r\nexport default customTheme\r\n","import React from 'react';\r\nimport { Global } from '@emotion/react'\r\nimport { ChakraProvider } from \"@chakra-ui/react\"\r\n\r\nimport globalStyles from './global-styles';\r\n\r\nimport theme from './theme';\r\n\r\nconst ReThemeProvider = ({ children }) => (\r\n  <ChakraProvider theme={theme} resetCSS>\r\n    <>\r\n      <Global styles={globalStyles} />\r\n      {children}\r\n    </>\r\n  </ChakraProvider>\r\n);\r\n\r\nexport default ReThemeProvider\r\n","import { createContext } from 'react';\r\n\r\nexport default createContext({})\r\n","import { useMediaQuery } from 'react-responsive'\r\n\r\nconst useMq = bp => useMediaQuery({ query: `(min-width: ${bp})` })\r\n\r\nexport default useMq\r\n","import React from 'react';\r\n\r\nimport { breakpoints } from '../../components/ThemeProvider/theme';\r\nimport MediaContext from './mediaContext'\r\nimport mqHook from './mqHook'\r\n\r\nconst MediaQuery = ({ children }) => {\r\n  const q = breakpoints.map(mqHook)\r\n  return (\r\n    <MediaContext.Provider value={q}>\r\n      {children}\r\n    </MediaContext.Provider>\r\n  )\r\n}\r\n\r\nexport default MediaQuery;\r\n","import { createContext } from \"react\";\n\nexport const defaultLabels = {\n  headTitle: '歲入歲出分析',\n  updatedAt: '資料更新日期',\n  budgetTitle: '預算數',\n  revenueTitle: '歲入來源別科目分析',\n  spendingTitle: '歲出大政事別科目分析',\n}\n\nconst labelContext = createContext(defaultLabels)\n\nexport default labelContext\n","import React from 'react'\nimport useSWR from 'swr'\n\nimport labelContext, { defaultLabels } from './labelContext'\n\nconst LabelProvider = ({ children }) => {\n  const { data = defaultLabels } = useSWR('/labels')\n  return <labelContext.Provider value={data}>{children}</labelContext.Provider>\n}\n\nexport default LabelProvider\n","import React from 'react'\nimport { SWRConfig } from 'swr'\nimport LabelProvider from './labelProvider'\n\nexport const BASE_URL = `https://cbadcmst.dgbas.gov.tw/GTFL/api`\n\nconst Provider = ({ children, options }) => (\n  <SWRConfig\n    value={{\n      fetcher: (resource, init) => fetch(BASE_URL + resource, init).then(res => res.json()),\n      ...options\n    }}\n  >\n    <LabelProvider>\n      {children}\n    </LabelProvider>\n  </SWRConfig>\n)\n\nexport default Provider\n","import React, { forwardRef } from 'react';\r\nimport { Box } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReBox = styled(Box)``\r\n\r\nexport default ReBox\r\n\r\nReBox.Inline = forwardRef((props, ref) => <ReBox as=\"span\" display=\"inline-block\" verticalAlign=\"middle\" {...props} ref={ref} />);\r\nReBox.Absolute = forwardRef((props, ref) => <ReBox position=\"absolute\" {...props} ref={ref} />);\r\nReBox.AbsCenter = forwardRef((props, ref) => <ReBox position=\"absolute\" top=\"50%\" left=\"50%\" transform=\"transform(-50%, -50%)\" {...props} ref={ref} />);\r\nReBox.FullAbs = forwardRef((props, ref) => <ReBox.Absolute top=\"0\" left=\"0\" right=\"0\" bottom=\"0\" {...props} ref={ref} />)\r\nReBox.Relative = forwardRef((props, ref) => <ReBox position=\"relative\" {...props} ref={ref} />)\r\nReBox.Fixed = forwardRef((props, ref) => <ReBox position=\"fixed\" {...props} ref={ref} />)\r\nReBox.Invisible = forwardRef((props, ref) => <ReBox.Absolute width=\"0\" height=\"0\" overflow=\"hidden\" opacity=\"0\" {...props} ref={ref} />)\r\n","import styled from '@emotion/styled';\r\n\r\nimport Box from './Box';\r\nimport { containerWidth, containerPadding } from './ThemeProvider/theme';\r\n\r\nconst Container = styled(Box)``\r\n\r\nContainer.defaultProps = {\r\n  mx: 'auto',\r\n  px: containerPadding,\r\n  maxWidth: containerWidth,\r\n};\r\n\r\nContainer.displayName = 'Container';\r\n\r\nexport default Container;\r\n","import { useContext } from 'react'\n\nimport labelContext from './labelContext'\n\nconst useLabel = (key) => {\n  const labels = useContext(labelContext)\n  return key ? labels[key] : labels\n}\n\nexport default useLabel\n","import { HStack, Text } from '@chakra-ui/layout'\nimport React from 'react'\nimport useSWR from 'swr'\nimport useLabel from '../api/useLabel'\n\nconst UpdatedAt = () => {\n  const { data } = useSWR('/lastUpdated')\n  const label = useLabel('updatedAt')\n  return (\n    <HStack color=\"custom.darkBlue\" fontSize=\"0.875em\">\n      <Text fontWeight=\"500\">{label}:</Text>\n      <Text fontWeight=\"500\">{data?.date || ''}</Text>\n    </HStack>\n  )\n}\n\nexport default UpdatedAt\n","import { Box, Flex } from '@chakra-ui/layout'\nimport React from 'react'\n\nconst TypeToggler = ({ value, onChange, options }) => {\n  return (\n    <Flex position=\"relative\" rounded=\"full\" bg=\"white\" boxShadow=\"inner\" width=\"10em\" fontSize=\"1.125em\">\n      <Box\n        position=\"absolute\"\n        transition=\"all 500ms\"\n        bgGradient=\"linear(to-r, custom.orange, custom.yellow)\"\n        width=\"52.5%\"\n        height=\"120%\"\n        left=\"0\"\n        top=\"0\"\n        transform={`translate(${value ? 90 : -2.5}%, -10%)`}\n        rounded=\"full\"\n        boxShadow=\"md\"\n      />\n      {options.map((label, i) => (\n        <Box\n          width=\"100%\"\n          key={i}\n          px=\"0.5em\"\n          py=\"0.25em\"\n          color={value === i ? 'black' : 'custom.gray'}\n          fontWeight={value === i ? 700 : 500}\n          position=\"relative\"\n          transition=\"all 500ms\"\n          letterSpacing=\"widest\"\n          textAlign=\"center\"\n          onClick={() => onChange(i)}\n          cursor=\"pointer\"\n        >\n          {label}\n        </Box>\n      ))}\n    </Flex>\n  )\n}\n\nexport default TypeToggler\n","import { IconButton } from '@chakra-ui/button'\nimport { Input } from '@chakra-ui/input'\nimport { Box } from '@chakra-ui/layout'\nimport React, { useCallback } from 'react'\nimport useSWR from 'swr'\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi'\nimport { useNumberInput } from '@chakra-ui/number-input'\n\nconst ChevButton = props => (\n  <IconButton\n    variant=\"unstyled\"\n    rounded=\"full\"\n    bgGradient=\"linear(to-r, custom.orange, custom.yellow)\"\n    bgColor=\"white\"\n    color=\"white\"\n    boxShadow=\"md\"\n    fontSize=\"1.75em\"\n    width=\"1.125em\"\n    minW=\"1.125em\"\n    height=\"1.125em\"\n    display=\"flex\"\n    px=\"0.25em\"\n    py=\"0.25em\"\n    _disabled={{\n      bgGradient: \"linear(to-r, custom.orangeAlpha, custom.yellowAlpha)\",\n      opacity: 1,\n      cursor: 'not-allowed',\n    }}\n    _hover={{\n      opacity: 1,\n    }}\n    {...props}\n  />\n)\n\nconst YearSelector = ({ onChange }) => {\n  const { data = [] } = useSWR('/yearsList')\n  const handleChange = useCallback(v => {\n    onChange(data[data.length - 1 - v])\n  }, [data, onChange])\n  const {\n    getInputProps,\n    getIncrementButtonProps,\n    getDecrementButtonProps,\n  } = useNumberInput({\n    step: 1,\n    defaultValue: 0,\n    min: 0,\n    max: Math.max(0, data.length - 1),\n    onChange: handleChange\n  })\n\n  const inc = getIncrementButtonProps()\n  const dec = getDecrementButtonProps()\n  const input = getInputProps({ isReadOnly: true })\n  return (\n    <Box position=\"relative\" width=\"7em\" bg=\"white\" rounded=\"full\" border=\"2xp solid white\" boxShadow=\"inner\">\n      <Input\n        width=\"100%\"\n        textAlign=\"center\"\n        variant=\"unstyled\"\n        py=\"0.125em\"\n        fontSize=\"1.25em\"\n        letterSpacing=\"wider\"\n        value={data[data.length - 1 - input.value]}\n        isReadOnly\n        // {...input}\n      />\n      <Box position=\"absolute\" left=\"-0.75em\" top=\"50%\" transform=\"translate(0, -50%)\">\n        <ChevButton icon={<FiChevronLeft />} {...inc} />\n      </Box>\n      <Box position=\"absolute\" right=\"-0.75em\" top=\"50%\" transform=\"translate(0, -50%)\">\n        <ChevButton icon={<FiChevronRight />} {...dec} />\n      </Box>\n    </Box>\n  )\n}\n\nexport default YearSelector\n","import React from 'react'\nimport { Heading, HStack, Flex } from \"@chakra-ui/react\";\n\nimport UpdatedAt from './UpdatedAt';\nimport useLabel from '../api/useLabel';\nimport TypeToggler from './TypeToggler';\nimport YearSelector from './YearSelector';\n\nconst Header = ({\n  type,\n  typeLabel,\n  onTypeChange,\n  typeOptions,\n  year,\n  onYearChange,\n  ...props\n}) => {\n  const label = useLabel('headTitle')\n  return (\n    <Flex\n      alignItems=\"flex-end\"\n      borderBottom=\"1px solid white\"\n      pb=\"1.5em\"\n      {...props}\n    >\n      <HStack flex={1} spacing=\"1.5em\">\n        <Heading as=\"h1\" color=\"white\" letterSpacing=\"widest\" fontSize=\"1.75em\" minW={`${label.length + 5}em`}>\n          各{typeLabel}{label}\n        </Heading>\n        <YearSelector value={year} onChange={onYearChange} />\n        <TypeToggler value={type} options={typeOptions} onChange={onTypeChange} />\n      </HStack>\n      <UpdatedAt />\n    </Flex>\n  )\n}\n\nexport default Header\n","import React, { forwardRef } from 'react';\r\nimport { Text } from \"@chakra-ui/react\";\r\nimport range from 'lodash/range';\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReText = styled(Text)``\r\n\r\nReText.Inline = forwardRef((props, ref) => <ReText as=\"span\" {...props} ref={ref} />);\r\nReText.Bold = forwardRef((props, ref) => <ReText fontWeight=\"700\" {...props} ref={ref} />);\r\nReText.Thin = forwardRef((props, ref) => <ReText fontWeight=\"200\" {...props} ref={ref} />);\r\n\r\nrange(1, 7).forEach((key) => {\r\n  ReText[`H${key}`] = forwardRef((props, ref) => (\r\n    <ReText\r\n      as={`h${key}`}\r\n      fontSize={`${5 - key}xl`}\r\n      {...props}\r\n      ref={ref}\r\n    />\r\n  ));\r\n});\r\n\r\nexport default ReText\r\n","import React, { forwardRef } from 'react'\r\nimport { Flex } from \"@chakra-ui/react\";\r\nimport styled from '@emotion/styled'\r\n\r\nconst ReFlex = styled(Flex)``\r\n\r\nReFlex.Vertical = forwardRef((props, ref) => <Flex direction=\"column\" {...props} ref={ref} />)\r\n\r\nexport default ReFlex\r\n","import { useMemo } from 'react';\r\nimport { get, isArray } from 'lodash'\r\n\r\nconst useWebpImage = (src) => {\r\n  const canUseWebp = get(window, 'Modernizr.webp')\r\n\r\n  const pic = useMemo(() => {\r\n    if (!isArray(src)) return null\r\n    return canUseWebp ? src[0] : src[1];\r\n  }, [canUseWebp, src])\r\n\r\n  return pic\r\n}\r\n\r\nexport default useWebpImage\r\n","import React, { forwardRef } from 'react';\r\nimport { isArray } from 'lodash'\r\nimport { AspectRatio } from '@chakra-ui/react';\r\n\r\nimport Box from './Box'\r\nimport useWebpImage from './utils/useWebpImage';\r\n\r\nconst BGImage = ({ src, children, ...props }) => {\r\n  const pic = useWebpImage(src)\r\n\r\n  return (\r\n    <Box\r\n      backgroundImage={`url(${isArray(src) ? pic : src})`}\r\n      {...props}\r\n    >\r\n      {children && (\r\n        <Box.FullAbs>{children}</Box.FullAbs>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n\r\nBGImage.defaultProps = {\r\n  backgroundSize: 'cover',\r\n  backgroundPosition: '50% 50%',\r\n  backgroundRepet: 'no-repeat',\r\n};\r\n\r\nconst BackgroundImage = forwardRef(({\r\n  src,\r\n  children,\r\n  backgroundSize,\r\n  backgroundPosition,\r\n  ...props\r\n}, ref) => (\r\n  <AspectRatio {...props} ref={ref}>\r\n    <BGImage\r\n      src={src}\r\n      backgroundSize={backgroundSize}\r\n      backgroundPosition={backgroundPosition}\r\n    >{children}</BGImage>\r\n  </AspectRatio>\r\n));\r\n\r\nBackgroundImage.displayName = 'BackgroundImage';\r\n\r\nexport default BackgroundImage\r\n","export default __webpack_public_path__ + \"static/media/arrow.fa88aa12.svg\";","import { Box, Heading, HStack, Text } from '@chakra-ui/layout'\nimport React from 'react'\nimport BackgroundImage from './BackgroundImage'\n\nimport arrow from './arrow.svg'\n\nconst Card = ({\n  title,\n  hightlight,\n  titleRight,\n  children,\n  ...props\n}) => (\n  <Box\n    rounded=\"2em\"\n    p=\"2em\"\n    boxShadow=\"lg\"\n    bg=\"white\"\n    {...props}\n  >\n    <HStack\n      pb=\"1em\"\n      mb=\"1.5em\"\n      position=\"relative\"\n      spacing=\"0.625em\"\n      _before={{\n        content: '\"\"',\n        display: 'block',\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        bottom: 0,\n        height: '1px',\n        bgImage: 'linear-gradient(to right, #238CC5, #B7A5D1)',\n      }}\n    >\n      <BackgroundImage width=\"1.375em\" ratio={1} src={arrow} />\n      <Heading color=\"custom.textBlue\" fontSize=\"1.5em\" letterSpacing=\"widest\">\n        {hightlight && <Text mr=\"0.25em\" as=\"span\" color=\"custom.textOrange\">{hightlight}</Text>}\n        {title}\n      </Heading>\n      <Box flex=\"1\" />\n      {titleRight}\n    </HStack>\n    {children}\n  </Box>\n)\n\nexport default Card\n","import React, { useCallback, useMemo } from 'react'\nimport useSWR from 'swr'\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  LabelList,\n  Rectangle,\n} from 'recharts';\nimport { format } from 'd3-format'\n\nimport useLabel from '../api/useLabel'\nimport Box from '../components/Box'\nimport Text from '../components/Text'\nimport Flex from '../components/Flex'\nimport Card from '../components/Card'\nimport theme from '../components/ThemeProvider/theme'\nimport { Spinner } from '@chakra-ui/spinner';\n\nconst legend = [\n  {\n    label: '歲入',\n    bg: 'custom.lightCyan'\n  },\n  {\n    label: '歲出',\n    bg: 'custom.lightBlue'\n  },\n]\n\nconst fontSize = 18\nconst f = format(',d')\n\nconst RenderCustomAxisTick = ({ x, y, payload, width, onClick, index, city }) => {\n  const w = fontSize * 4.5\n  const h = fontSize * 2.125\n  const active = !city || city[2] === index\n  return (\n    <g\n      transform={`translate(${x - width - fontSize * 1.375}, ${y - fontSize * 1.125})`}\n      onClick={() => onClick(index)}\n      style={{ cursor: 'pointer', opacity: active ? 1 : 0.33 }}\n    >\n      <Rectangle\n        radius={8}\n        width={w}\n        height={h}\n        fill=\"url(#Gradient1)\"\n        opacity=\"0.175\"\n      />\n      <Rectangle\n        radius={8}\n        width={w}\n        height={h}\n        fill=\"none\"\n        stroke={theme.colors.custom.textBlue}\n      />\n      <text\n        x={w / 2}\n        y={h / 2 + fontSize * 0.35}\n        fontSize={fontSize}\n        fill={theme.colors.custom.textBlue}\n        textAnchor=\"middle\"\n      >\n        {payload.value}\n      </text>\n    </g>\n  );\n};\n\nconst BudgetBar = ({ type, year, typeLabel, city, onSetCity }) => {\n  const label = useLabel('budgetTitle')\n  const { data } = useSWR(`/data/cities?year=${year}&type=${type}`)\n  const chartData = useMemo(() => data ? data.map(({ name, revenue, spending }) => ({\n    name,\n    歲出: spending,\n    歲入: revenue\n  })) : [], [data])\n  const handleLabelClick = useCallback((index) => {\n    const clicked = data[index].id\n    onSetCity(city?.[0] === clicked ? null : [clicked, data[index].name, index])\n  }, [data, onSetCity, city])\n  return (\n    <Card\n      title={`各${typeLabel}${label}`}\n      width=\"100%\"\n      titleRight={\n        <Flex>\n          {legend.map(({ label, bg }, i) => (\n            <Flex alignItems=\"center\" ml={i && '1.5em'} key={i}>\n              <Box mr=\"0.375em\" width=\"2.5em\" py=\"0.5em\" bg={bg} />\n              <Text color=\"custom.labelBlue\">{label}</Text>\n            </Flex>\n          ))}\n        </Flex>\n      }\n    >\n      {data ? (\n        <BarChart\n          layout=\"vertical\"\n          width={500}\n          height={1350}\n          min={0}\n          barGap={0}\n          data={chartData}\n          margin={{\n            top: 0,\n            right: 20,\n            left: 36,\n            bottom: 0,\n          }}\n        >\n          <defs>\n            <linearGradient id=\"Gradient1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n              <stop class=\"stop1\" offset=\"0%\" stop-color=\"rgba(0,114,159,0)\"/>\n              <stop class=\"stop2\" offset=\"100%\" stop-color=\"rgba(0,114,159,1)\"/>\n            </linearGradient>\n          </defs>\n          <XAxis\n            type=\"number\"\n            tick={false}\n            tickLine={false}\n            axisLine={false}\n            strokeWidth={0}\n            padding={{ right: 240 }}\n          />\n          <YAxis\n            tickLine={false}\n            axisLine={false}\n            dataKey=\"name\"\n            type=\"category\"\n            tick={<RenderCustomAxisTick onClick={handleLabelClick} city={city} />}\n          />\n          <Bar dataKey=\"歲入\" barSize={25} fill={theme.colors.custom.lightCyan}>\n            <LabelList\n              dataKey=\"歲入\"\n              position=\"right\"\n              fill={theme.colors.custom.cyan}\n              formatter={f}\n            />\n          </Bar>\n          <Bar dataKey=\"歲出\" barSize={25} fill={theme.colors.custom.lightBlue}>\n            <LabelList\n              dataKey=\"歲出\"\n              position=\"right\"\n              fill={theme.colors.custom.blue}\n              formatter={f}\n            />\n          </Bar>\n        </BarChart>\n      ) : <Spinner colorScheme=\"green\" />}\n    </Card>\n  )\n}\n\nexport default BudgetBar\n","import React, { useMemo } from 'react'\nimport { Treemap, Tooltip } from 'recharts';\nimport { maxBy, minBy, sortBy } from 'lodash';\nimport { scaleLinear } from 'd3-scale'\nimport { format } from 'd3-format'\n\nimport Box from '../../components/Box'\nimport Text from '../../components/Text'\n\nconst f = format(',d')\n\nconst CustomTooltip = ({ active, payload, label, valueColor }) => {\n  // console.log(active, props)\n  if (active && payload && payload.length) {\n    return (\n      <Box bg=\"rgba(255, 255, 255, 0.9)\" borderRadius=\"0.5em\" p=\"0.25em 0.5em\">\n        <Text fontSize=\"1.125em\">{payload[0].payload.name}</Text>\n        <Text fontSize=\"1.625em\" color={`custom.${valueColor}`}>{`${f(payload[0].value)}`}</Text>\n      </Box>\n    );\n  }\n  return null;\n};\n\nconst CustomizedContent = ({\n  depth,\n  x,\n  y,\n  width,\n  height,\n  name,\n  colorScale,\n  value,\n}) => {\n  return (\n    <g>\n      <rect\n        x={x}\n        y={y}\n        width={width}\n        height={height}\n        style={{\n          fill: colorScale(value),\n          stroke: '#fff',\n          strokeWidth: 2,\n        }}\n      />\n      {depth === 1 ? (\n        <text x={x + width / 2} y={y + height / 2 + 7} textAnchor=\"middle\" fill=\"#fff\" fontSize={18}>\n          {width < name.length * 20 ? '...' : name}\n        </text>\n      ) : null}\n    </g>\n  );\n}\n\n\nconst colors = {\n  green: ['#A7E6E3', '#2F857E'],\n  blue: ['#CDE7FA', '#0D5A8C']\n}\n\nconst TreeMap = ({ data, colorScheme, valueColor }) => {\n  const treeData = useMemo(() => data ? sortBy(data.map(({ name, value }) => (\n    {\n      name,\n      value: +value\n    }\n  )), ['value']).reverse() : [], [data])\n  const extent = useMemo(() => {\n    const min = minBy(treeData, 'value')\n    const max = maxBy(treeData, 'value')\n    return [min?.value || 0, max?.value || 1]\n  }, [treeData])\n  const colorScale = useMemo(() =>\n    scaleLinear()\n      .domain(extent)\n      .range(colors[colorScheme])\n    , [extent, colorScheme])\n  return (\n    <Treemap\n      width={530}\n      height={600}\n      data={treeData}\n      ratio={4 / 3}\n      dataKey=\"value\"\n      animationDuration={500}\n      content={<CustomizedContent colorScale={colorScale} />}\n    >\n      <Tooltip valueColor={valueColor} content={<CustomTooltip />} />\n    </Treemap>\n  )\n}\n\nexport default TreeMap\n","import { Spinner } from '@chakra-ui/spinner'\nimport React from 'react'\nimport useSWR from 'swr'\n\nimport useLabel from '../api/useLabel'\nimport Card from '../components/Card'\nimport TreeMap from './Charts/TreeMap'\n\nconst RevenueTree = ({ type, year, typeLabel, city }) => {\n  const label = useLabel('revenueTitle')\n  const { data } = useSWR(`/data/revenue?year=${year}&type=${type}${city ? `&city=${city}` : ''}`)\n\n  return (\n    <Card title={label} hightlight={city ? city[1] : `全${typeLabel}`}>\n      {data ? <TreeMap data={data} colorScheme=\"green\" valueColor=\"darkGreen\" /> : <Spinner colorScheme=\"green\" />}\n    </Card>\n  )\n}\n\nexport default RevenueTree\n","import { Spinner } from '@chakra-ui/spinner'\nimport React from 'react'\nimport useSWR from 'swr'\nimport useLabel from '../api/useLabel'\nimport Card from '../components/Card'\nimport TreeMap from './Charts/TreeMap'\n\nconst SpendingTree = ({ type, year, typeLabel, city }) => {\n  const label = useLabel('spendingTitle')\n  const { data } = useSWR(`/data/spending?year=${year}&type=${type}${city ? `&city=${city}` : ''}`)\n\n  return (\n    <Card title={label} hightlight={city ? city[1] : `全${typeLabel}`}>\n      {data ? <TreeMap data={data} colorScheme=\"blue\" valueColor=\"darkBlue\" /> : <Spinner colorScheme=\"green\" />}\n    </Card>\n  )\n}\n\nexport default SpendingTree\n","import React, { useEffect, useState } from 'react'\nimport { HStack, Stack } from '@chakra-ui/layout'\n\nimport Container from '../components/Container'\nimport Box from '../components/Box'\n\nimport Header from './Header';\nimport BudgetBar from './BudgetBar'\nimport RevenueTree from './RevenueTree'\nimport SpendingTree from './SpendingTree'\n\nconst types = [\n  '市縣',\n  '鄉鎮市',\n]\n\nconst HomePage = () => {\n  const [isSub, setIsSub] = useState(0)\n  const [year, setYear] = useState(() => new Date().getFullYear() - 1911)\n  const [city, setCity] = useState()\n  const type = isSub ? 'B' : 'A'\n  const typeLabel = types[+isSub]\n  useEffect(() => {\n    setCity(null)\n  }, [isSub])\n  return (\n    <Container py=\"2em\">\n      <Header\n        typeLabel={typeLabel}\n        type={isSub}\n        onTypeChange={setIsSub}\n        typeOptions={types}\n        year={year}\n        onYearChange={setYear}\n      />\n      <HStack spacing=\"2em\" my=\"3em\" alignItems=\"flex-start\">\n        <Box flex=\"1\">\n          <BudgetBar type={type} typeLabel={typeLabel} year={year} city={city} onSetCity={setCity} />\n        </Box>\n        <Stack spacing=\"1em\" flex=\"1\">\n          <RevenueTree type={type} typeLabel={typeLabel} year={year} city={city} />\n          <SpendingTree type={type} typeLabel={typeLabel} year={year} city={city} />\n        </Stack>\n      </HStack>\n    </Container>\n  )\n}\n\nexport default HomePage\n","import React from 'react';\r\n\r\nimport HomePage from './containers/HomePage'\r\n\r\nfunction App() {\r\n  return (\r\n    <HomePage />\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable'\nimport 'whatwg-fetch'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ThemeProvider from './components/ThemeProvider'\nimport MediaProvider from './contexts/mediaQuery/MediaProvider'\nimport ApiProvider from './api/provider'\n\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <ThemeProvider>\n    <MediaProvider>\n      <ApiProvider>\n        <App />\n      </ApiProvider>\n    </MediaProvider>\n  </ThemeProvider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}